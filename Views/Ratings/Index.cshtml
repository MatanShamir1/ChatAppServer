@model IEnumerable<ChatApp.Models.Rating>
@{
    ViewData["Title"] = "Index";
}

<!DOCTYPE html>
<html lang="en">
<head>
   <style>
.main-section{
background:#FFFFFF;
width:80%;
margin: 0 auto;
padding: 10px;
margin-top:-7px;
box-shadow:0px 2px 7px 1px #aa9191;
}
.hedding-title h1{
margin:0px;
padding:0px 0px 10px 0px;
font-size:25px;
text-align: center;
}
.average-rating{
float:left;
text-align: center;
width:30%;
padding-left:2%
}
.average-rating h2{
margin:0px;
font-size:80px;
}
.average-rating p{
margin:0px;
font-size:20px;
}
.fa-star,.fa-star-o,.fa-star-half-o{
color:#FDC91B;
font-size:25px !important;
}
.progress,.progress-2,.progress-3,.progress-4,.progress-5{

background:#F5F5F5;
border-radius: 13px;
height:18px;
width:97%;
padding:3px;
margin:5px 0px 3px 0px;
}
.progress:after,.progress-2:after,.progress-3:after,.progress-4:after,.progress-5:after{
content: '';
display: block;
background: #337AB7;
width:80%;
height: 100%;
border-radius: 9px;
}
.progress-2:after{
width: 60%;
}
.progress-3:after{
width:40%;
}
.progress-4:after{
width:20%;
}
.progress-5:after{
width:10%;
}
.loder-ratimg{
display: inline-block;
width:40%;
}
.start-part{
float:right;
width:30%;
text-align: center;
}
.start-part span{
color:#337AB7;
font-size:23px;
}
.reviews h1{
    margin-top: 10px;
    margin-bottom: 23px;
}
.user-img img{
height: 80px;
width: 80px;
border:1px solid blue;
border-radius: 50%;
}
.user-img-part{
width:30%;
float:left;
}
.user-img{
width:48%;
float:left;
text-align: center;
}
.ch2{
    text-wieght:bold;
}
.user-text{
float:left;
}
.user-text h4,.user-text p{
margin:0px 0px 5px 0px;
}
.user-text p{
font-size: 20px;
font-weight: bold;
}
.user-text h4,.user-text span{
color:#B3B5B4;
}
.comment{
width:100%;
float:center;
text-align:center;
}
.blockComment{
    margin-left:5%;
}
.ch{
    text-align:center;
    padding:12px;
}

.links{
    float:right;
}
.pad{
    padding-left:17%;
}
.firstpad{
    padding-left:3%;
}
.searchStyle{
    width:23%
}
</style>
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link href="https://fonts.googleapis.com/css?family=Barlow+Semi+Condensed" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
 
      <a className="btn btn-outline-dark log-out2" href="http://localhost:53601/">Go to Rating</a>
  <p>
    <a class="create btn btn-link links" asp-action="Create">Create New</a>
</p>
<form class="form searchStyle" asp-action="Search">
<div class="input-group mb-3">
  <input name="query" type="text" class="form-control" placeholder="Search rating" aria-label="Recipient's username" aria-describedby="basic-addon2">
  <div class="input-group-append">
    <button class="btn btn-primary" type="submit" value="Search">Search</button>
  </div>
</div>
</form>
    <div class="main-section">
    <div class="hedding-title"><h1>Star Rating System</h1></div>
    <div class="ch">
        <span>Average Rating</span>
@{ 
    double sum = 0;
    int counter = 0;
    @foreach (var item in Model) {
    sum = sum + item.Rate;
    counter++;
}
sum = sum / counter;
    @if(sum > 4.5){
        <span class="fa fa-star checked firstpad"></span>
        <span class="fa fa-star checked "></span>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star checked"></span>
    }
    else if(sum>3.5) {
        <span class="fa fa-star checked firstpad"></span>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star checked "></span>
        <span class="fa fa-star checked"></span>
    }
       else if(sum>2.5) {
        <span class="fa fa-star checked firstpad"></span>
        <span class="fa fa-star checked"></span>
        <span class="fa fa-star checked "></span>
    }
       else if(sum>1.5) {
        <span class="fa fa-star checked firstpad"></span>
        <span class="fa fa-star checked"></span>

    }
       else if(sum>0.5) {
        <span class="fa fa-star checked firstpad"></span>
    }
}
</div>
    <div class="rating-part">
    <div class="average-rating">

    </div>
        <div class="loder-ratimg">

   </div>


</div>
<div style="clear: both;"></div>

<div class="reviews"><h1>Reviews</h1></div>
<hr>
<div class="comment-part">

<div style="clear: both;"></div>
</div>
        @foreach (var item in Model){ <div class="comment-part blockComment">
        <div class="user-img-part">
        </div>
        <div class="user-text">
        <h4>@item.Time</h4>
        <p>@Html.DisplayFor(modelItem => item.Name)</p>
        <div>Review</div>
        <span class="ch2">@Html.DisplayFor(modelItem => item.Text)</span>
        </div>
        <div style="clear: both;"></div>
</div>
    <div class="comment">
          @if(item.Rate > 4.5){
            <span class="fa fa-star checked pad"></span>
            <span class="fa fa-star checked "></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star checked"></span>

  }
        else if(item.Rate>3.5) {
            <span class="fa fa-star checked pad "></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star checked "></span>
            <span class="fa fa-star checked "></span>

        }
           else if(item.Rate>2.5) {
            <span class="fa fa-star checked pad"></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star checked"></span>

        }
           else if(item.Rate>1.5) {
            <span class="fa fa-star checked pad "></span>
            <span class="fa fa-star checked "></span>

        }
           else if(item.Rate> 0.5) {
               <span class="fa fa-star checked pad"></span>
        } 
   
  
        <span class="links">
             <a asp-action="Edit" asp-route-id="@item.Id">Edit</a> |
             <a asp-action="Details" asp-route-id="@item.Id">Details</a> |
             <a asp-action="Delete" asp-route-id="@item.Id">Delete</a>
        </span>
    </div>
<div style="clear: both;"></div>
<hr>
}
</div>
</div>
</div>
</body>
</html>